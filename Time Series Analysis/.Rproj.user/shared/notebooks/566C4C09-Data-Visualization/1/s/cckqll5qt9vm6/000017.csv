"0","# new dataframe for monthly number of attacks 1970-2020"
"0","gtd_monthly_attacks_deaths <- gtd_USA %>% "
"0","              group_by(year(Date), month(Date)) %>% "
"0","                  summarise(num_attacks = n(), "
"0","                            nkill=sum(nkill))"
"0",""
"0","colnames(gtd_monthly_attacks_deaths)[1] =""Year"""
"0","colnames(gtd_monthly_attacks_deaths)[2] =""Month"""
"0","colnames(gtd_monthly_attacks_deaths)[4] =""num_fatal"""
"0",""
"0","gtd_monthly_attacks_deaths$Date <- as.Date(paste0(gtd_monthly_attacks_deaths$Year, ""-"", gtd_monthly_attacks_deaths$Month, ""-01""), ""%Y-%m-%d"")"
"0",""
"0","#as.Date(with(gtd_monthly_attacks_deaths,paste(Year,Month,sep=""-"")),""%Y-%m"")"
"0","# Fill missing dates (0 attacks for those dates)"
"0","gtd_monthly_attacks_deaths <- gtd_monthly_attacks_deaths %>% "
"0","              complete(Date = seq.Date(min(Date), max(Date), by=""month"")) "
"0",""
"0","gtd_monthly_attacks_deaths <- pad(gtd_monthly_attacks_deaths) %>%"
"0","                                                  replace(is.na(.), 0)"
